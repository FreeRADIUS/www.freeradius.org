<!DOCTYPE html>
<html ng-app="freeradius"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>FreeRADIUS &#39;man&#39; pages</title>
    <meta name="description" content="The world's leading RADIUS server. The project includes a GPL AAA server, BSD licensed client and PAM and Apache modules. Full support is available from NetworkRADIUS.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="freeradius.org/radiusd/man/rlm_attr_filter.html">
    <link rel="alternate" type="application/rss+xml" title="FreeRADIUS" href="freeradius.org/feed.xml">

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5 ">
    <meta name="msapplication-TileColor" content="#da532c ">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff ">

</head>
<body><div class="global-nav">
  <div class="global_links pull_right">
    <div class="global_link global_link_label h5 text">Our sites:</div>
    <a class="global_link h5" href="http://networkradius.com/"><div class=""><span class="text">Network</span>RADIUS</div></a>
    <a class="global_link h5 active" href="http://wiki.freeradius.org/"><div class=""><span class="text">Free</span>RADIUS <span class="text">Wiki</span></div></a>
  </div>
</div>

<header class="site-header" global-header ng-class="{fixed: fixNav}">
  <div class="site-header-wrapper">

    <a class="site-title" href="/"><img src="/img/wordmark.svg"></a>
    <button class="menu-icon" tab-trigger ng-click="toggle('#site-nav', true)">
      <svg viewBox="0 0 18 15">
        <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
        <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
        <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
      </svg>
    </button>

    <nav class="site-nav" id="site-nav" tab-content ng-class="{active : active == '#site-nav'}">

      <div class="get-release">
      <a ng-cloak ng-href="/releases/" stable-download class="button bg_accent-blue h5">Download {{stableBranch.last_release.name}}</a>
      </div>

      <ul class="site-nav-list">

         <li class="site-nav-item">
            <a class="page-link h5" href="/releases/">Releases</a>
         </li>

         <li class="site-nav-item">
            <a class="page-link h5" href="/documentation/">Documentation</a>
         </li>

         <li class="site-nav-item">
            <a class="page-link h5" href="/modules/">Modules</a>
         </li>

         <li class="site-nav-item">
            <a class="page-link h5" href="/community/">Community</a>
         </li>

         <li class="site-nav-item">
            <a class="page-link h5" href="/about/">About</a>
         </li>

         <li class="site-nav-item">
            <a class="page-link h5" href="/support/">Support</a>
         </li>

      </ul>

    </nav>
  </div>
</header>
<div class="page-content">

        <article class="post">
  <header class="post-header">
    <div class="post-hero hero-documentation">
      <div class="wrapper">
        <h1 class="post-title">FreeRADIUS 'man' pages</h1>
        <p class="post-subtitle">Documentation from the server</p>
      </div>
    </div>
  </header><div class="sub-nav">
    <div class="wrapper">
        <nav class="inline_nav" sub-nav>
            <ul>
                <li class="">
                    <a class="subnav_link" href="/radiusd/man/#programs">Programs</a>
                </li><li class="">
                    <a class="subnav_link" href="/radiusd/man/#files">Configuration Files</a>
                </li><li class="">
                    <a class="subnav_link" href="/radiusd/man/#modules">Modules</a>
                </li></ul>
        </nav>
    </div>
</div>
<div class="post-content">
    <div class="man_page wrapper base_padding_v">
<H1>rlm_attr_filter</H1>
Section: FreeRADIUS Module (5)<BR>Updated: 27 June 2013<BR><A HREF="#index">Index</A>
<A HREF="/man/">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

rlm_attr_filter - FreeRADIUS Module
<A NAME="lbAC">&nbsp;</A>
<H2>DESCRIPTION</H2>

The <I>rlm_attr_filter</I> module exists for filtering certain
attributes and values in received ( or transmitted ) radius packets.
It gives the server a flexible framework to filter the attributes we
send to or receive from home servers or NASes.  This makes sense, for
example, in an out-sourced dialup situation to various policy
decisions, such as restricting a client to certain ranges of
Idle-Timeout or Session-Timeout.
<P>

Filter rules are normally defined and applied on a per-realm basis,
Filter rules can optionally be applied using another attribute, by
editing the <I>key</I> configuration for this module.
<P>

In 2.0.1 and earlier versions, the &quot;accounting&quot; section filtered the
Accounting-Request, even though it was documented as filtering the
response.  This issue has been fixed in version 2.0.2 and later
versions.  The &quot;preacct&quot; section may now be used to filter
Accounting-Request packets.  The &quot;accounting&quot; section now filters
Accounting-Response packets.  Administrators using &quot;attr_filter&quot; in
the &quot;accounting&quot; section SHOULD move the reference to &quot;attr_filter&quot;
from &quot;accounting&quot; to &quot;preacct&quot;.
<P>

The file that defines the attribute filtering rules follows a similar
syntax to the <I>users</I> file.  There are a few differences however:
<P>


<DL COMPACT><DT><DD>
<PRE>

    There are no check-items allowed other than the name of the key.

    There can only be a single DEFAULT entry.

The rules for each entry are parsed to top to bottom, and an
attribute must pass *all* the rules which affect it in order to
make it past the filter.  Order of the rules is important.
The operators and their purpose in defining the rules are as
follows:
<DL COMPACT>
<DT><B>=   </B>
<DD>THIS OPERATOR IS NOT ALLOWED.  If used, and warning message is
printed and it is treated as ==
<DT><B>:=  </B>
<DD>Set, this attribute and value will always be placed in the
output A/V Pairs.  If the attribute exists, it is overwritten.
<DT><B>==  </B>
<DD>Equal, value must match exactly.
<DT><B>=*  </B>
<DD>Always Equal, allow all values for the specified attribute.
<DT><B>!*  </B>
<DD>Never Equal, disallow all values for the specified attribute.
( This is redundant, as any A/V Pair not explicitly permitted
will be dropped ).
<DT><B>!=  </B>
<DD>Not Equal, value must not match.
<DT><B>&gt;=  </B>
<DD>Greater Than or Equal
<DT><B>&lt;=  </B>
<DD>Less Than or Equal
<DT><B>&gt;   </B>
<DD>Greater Than
<DT><B>&lt;   </B>
<DD>Less Than
</DL>

If regular expressions are enabled the following operators are
also possible.  ( Regular Expressions are included by default
unless your system doesn't support them, which should be rare ).
The value field uses standard regular expression syntax.

<DL COMPACT>
<DT><B>=~  </B>
<DD>Regular Expression Equal
<DT><B>!~  </B>
<DD>Regular Expression Not Equal
</DL>

See the default <I>/etc/raddb/mods-config/attr_filter/</I> for working examples of
sample rule ordering and how to use the different operators.

</PRE>

</DL>

<P>

<P>

The configuration items are:
<DL COMPACT>
<DT>file<DD>
This specifies the location of the file used to load the filter rules.
This file is used to filter the accounting response, packet before it
is proxied, proxy response from the home server, or our response to
the NAS.
<DT>key<DD>
Usually &percnt;{Realm} (the default).  Can also be &percnt;{User-Name}, or other
attribute that exists in the request.  Note that the module always
keys off of attributes in the request, and NOT in any other packet.
<DT>relaxed<DD>
If set to 'yes', then attributes which do not match any filter rules
explicitly, will also be allowed. This behaviour may be overridden 
for an individual filter block using the Relax-Filter check item.
The default for this configuration item is 'no'.
</DL>
<P>

<A NAME="lbAD">&nbsp;</A>
<H2>SECTIONS</H2>

<DL COMPACT>
<DT>preacct<DD>
Filters Accounting-Request packets.
<DT>accounting<DD>
Filters Accounting-Response packets.
<DT>pre-proxy<DD>
Filters Accounting-Request or Access-Request packets prior to proxying
them.
<DT>post-proxy<DD>
Filters Accounting-Response, Access-Accept, Access-Reject, or
Access-Challenge responses from a home server.
<DT>authorize<DD>
Filters Access-Request packets.
<DT>post-auth<DD>
Filters Access-Accept or Access-Reject packets.
</DL>
<P>

<A NAME="lbAE">&nbsp;</A>
<H2>FILES</H2>

<I>/etc/raddb/radiusd.conf</I>

<I>/etc/raddb/mods-config/attr_filter/*</I>

<P>

<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><a href="radiusd.html">radiusd</A></B>(8),

<B><a href="radiusd.conf.html">radiusd.conf</A></B>(5)

<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

Chris Parker, <A HREF="mailto:cparker@segv.org">cparker@segv.org</A>
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">DESCRIPTION</A><DD>
<DT><A HREF="#lbAD">SECTIONS</A><DD>
<DT><A HREF="#lbAE">FILES</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
man2html,
using the manual pages.<BR>
Time: 13:47:04 GMT, August 08, 2017
</div>
</HTML>

  </div>

</article>


    </div><footer class="global_footer bg_block-dark lg_padding_v">

    <div class="wrapper">
        <div class="row">
            <div class="columns medium-4">
                <div class="footer_main">
                    <img class="footer_logo" width="150" src="/img/wordmark-white.svg" alt="">
                    <a ng-cloak ng-href="/releases/" stable-download class="button bg_accent-green h5">Download {{stableBranch.last_release.name}}</a>
                    <div class="footer-social">
                        <a href="https://github.com/FreeRADIUS"><img class="icon_small" src="/img/github-white.svg" alt=""></a>
                         <a href="https://twitter.com/freeradius"><img class="icon_small" src="/img/twitter-white.svg" alt=""></a>
                        <a href="http://stackoverflow.com/tags/freeradius/info"><img class="icon_small" src="/img/stackoverflow-white.svg" alt=""></a>
                    </div>
                    <p>&copy; 2017 The FreeRADIUS Server Project Support and Contributors</p>
                </div>
            </div>
            <div class="columns medium-8">
                <nav class="footer_nav h6 row small-up-2">
                    <ul>
                        <li><a href="/documentation/">Docs</a></li>
                        <li><a href="http://wiki.freeradius.org/Home">Wiki</a></li>
                        <li><a href="http://freeradius.org/radiusd/man/">Manual Pages</a></li>
                        <li><a href="http://deployingradius.com/">Useful How-To's</a></li>
                        <li><a href="http://networkradius.com/doc.html">Full Server Docs</a></li>
                        <li><a href="http://doc.freeradius.org/">Api Docs</a></li>
                    </ul>
                    <ul>
                        <li><a href="/modules/">Modules</a></li>
                        <li><a href="/modules/">Packages</a></li>
                        <li><a href="https://github.com/FreeRADIUS/freeradius-server/issues/new">Report A Bug</a></li>
                    </ul>
                    <ul>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="/support/">Mailing Lists</a></li>
                        <li><a href="/community/#contributing">Contribute</a></li>
                        <li><a href="/community/#developer_docs">Developer Docs</a></li>
                    </ul>
                    <ul>
                        <li><a href="/about/">About</a></li>
                        <li><a href="/about/#project">The Project</a></li>
                        <li><a href="/about/#usage_statistics">Why We're No. 1</a></li>
                        <li><a href="/about/#security">Security</a></li>
                        <li><a href="/about/#team">Team</a></li>
                    </ul>
                    <ul>
                        <li><a href="/support/">Support</a></li>
                        <li><a href="https://github.com/FreeRADIUS/freeradius-server/issues/new">Issue Tracker</a></li>
                        <li><a href="/security/">Security Issues</a></li>
                        <li><a href="http://stackoverflow.com/questions/tagged/freeradius">FAQs</a></li>
                        <li><a href="/support/">Newsletters</a></li>
                        <li><a href="/commercial_support/">Commercial</a></li>
                        <li><a href="/support/">Support</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery-1.12.1.min.js"><\/script>')</script>
<script src="/js/angular.min.js"></script>
<script src="/js/app.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-1186926-1', 'auto');
  ga('send', 'pageview');
</script>
</body>

</html>
